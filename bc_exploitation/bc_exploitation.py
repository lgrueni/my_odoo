#BC exploitation
#Copyright (C) 2020  Louis Grueninger
#
#This program is free software: you can redistribute it and/or modify
#it under the terms of the GNU General Public License as published by
#the Free Software Foundation, either version 3 of the License, or
#(at your option) any later version.
#
#This program is distributed in the hope that it will be useful,
#but WITHOUT ANY WARRANTY; without even the implied warranty of
#MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#GNU General Public License for more details.
#
#You should have received a copy of the GNU General Public License
#along with this program.  If not, see <https://www.gnu.org/licenses/>.

from openerp import models, fields
from datetime import datetime

class bc_passengers(models.Model):
    _name = 'bc.passengers'

    date = fields.Date('Date')
    train = fields.Char('Train number')
    steamLocomotive = fields.Many2many(comodel_name = 'bc.locomotive.steam')
    electricLocomotive = fields.Many2many(comodel_name = 'bc.locomotive.electric')
    coaches = fields.Many2many(comodel_name = 'bc.coaches')
    passengers = fields.Integer('Passengers')
    comment = fields.Text("Comment")

    _defaults = {
        'date': datetime.today(),
    }

class bc_locomotive_steam(models.Model):
    _name = 'bc.locomotive.steam'

    name = fields.Char('Name')
    train = fields.Many2many(comodel_name = 'bc.passengers')
    trainCount = fields.Integer('Number of train', compute = '_compute_count')

    def _compute_count(self):
        count = 0
        for i in self.train:
            count += 1
        return count

class bc_locomotive_electric(models.Model):
    _name = 'bc.locomotive.electric'

    name = fields.Char('Name')
    train = fields.Many2many(comodel_name = 'bc.passengers')

class bc_coaches(models.Model):
    _name = 'bc.coaches'

    name = fields.Char('Name')
    train = fields.Many2many(comodel_name = 'bc.passengers')


class bc_announcement(models.Model):
    _name = 'bc.announcement'

    date = fields.Date('Date')
    train = fields.Char('Train number')
    arrivalTo = fields.Many2one('bc.station', string = 'Transmitted to the station')
    arrivalFrom = fields.Many2one('bc.station', string = 'Transmitted from the station')
    freeWayTo = fields.Many2one('bc.station', string = 'Transmitted to the station')
    freeWayFrom = fields.Many2one('bc.station', string = 'Transmitted from the station')
    comment = fields.Text("Comment")

    _defaults = {
        'date': datetime.today(),
    }

class bc_station(models.Model):
    _name = 'bc.station'

    name = fields.Char('Name')